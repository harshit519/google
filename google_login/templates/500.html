{% extends 'base.html' %}

{% block title %}Server Error{% endblock %}

{% block content %}
<div class="container min-vh-100 d-flex align-items-center justify-content-center">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card border-0 shadow-lg rounded-4 bg-white bg-opacity-95 text-center p-5">
                <div class="animate__animated animate__fadeInUp">
                    <div class="bg-warning bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center mb-4" style="width: 120px; height: 120px;">
                        <i class="fas fa-cog fa-spin text-warning" style="font-size: 3rem;"></i>
                    </div>
                    <h1 class="display-4 fw-bold text-dark mb-3">500</h1>
                    <h3 class="text-muted mb-3">Server Error</h3>
                    <p class="text-muted mb-4 fs-5">Something went wrong on our end. Please try again later.</p>
                    <a href="{% url 'home' %}" class="btn btn-primary rounded-pill px-4 py-2 shadow-sm" id="homeBtn">
                        <i class="fas fa-home me-2"></i>
                        Go Home
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script>
    $(document).ready(function() {
        // Add hover effect to the home button
        $('#homeBtn').hover(
            function() {
                $(this).addClass('shadow-lg').css('transform', 'translateY(-2px)');
            },
            function() {
                $(this).removeClass('shadow-lg').css('transform', 'translateY(0)');
            }
        );

        // Add pulse animation to the error icon
        setInterval(function() {
            $('.bg-warning.bg-opacity-10').addClass('animate__animated animate__pulse');
            setTimeout(function() {
                $('.bg-warning.bg-opacity-10').removeClass('animate__animated animate__pulse');
            }, 1000);
        }, 2000);

        // Typing effect for the error message
        function typeWriter(element, text, speed = 100) {
            var i = 0;
            element.html('');
            function type() {
                if (i < text.length) {
                    element.html(element.html() + text.charAt(i));
                    i++;
                    setTimeout(type, speed);
                }
            }
            type();
        }

        // Start typing effect after page load
        setTimeout(function() {
            var errorTitle = $('h3');
            var originalText = errorTitle.text();
            typeWriter(errorTitle, originalText, 80);
        }, 500);

        // Add continuous rotation to the cog icon
        $('.fa-cog').css('animation', 'spin 2s linear infinite');
    });
</script>
{% endblock %}
